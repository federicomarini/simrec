<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>simrec: An R-Package for Simulation of Recurrent Event Data • simrec</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="simrec: An R-Package for Simulation of Recurrent Event Data">
<meta property="og:description" content="simrec">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">simrec</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/simrec-vignette.html">simrec: An R-Package for Simulation of Recurrent Event Data</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/federicomarini/simrec/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="simrec-vignette_files/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="simrec-vignette_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="simrec-vignette_files/anchor-sections-1.0/anchor-sections.js"></script><script src="simrec-vignette_files/htmlwidgets-1.5.2/htmlwidgets.js"></script><script src="simrec-vignette_files/jquery-1.12.4/jquery.min.js"></script><link href="simrec-vignette_files/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="simrec-vignette_files/datatables-binding-0.16/datatables.js"></script><link href="simrec-vignette_files/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="simrec-vignette_files/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="simrec-vignette_files/dt-core-1.10.20/js/jquery.dataTables.min.js"></script><link href="simrec-vignette_files/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet">
<script src="simrec-vignette_files/crosstalk-1.1.0.1/js/crosstalk.min.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>simrec: An R-Package for Simulation of Recurrent Event Data</h1>
                        <h4 class="author">Katharina Ingel<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>
</h4>
            <address class="author_afil">
      Institute of Medical Biostatistics, Epidemiology and Informatics (<a href="https://www.unimedizin-mainz.de/imbei/imbei/welcome-page.html?L=1">IMBEI, Mainz</a>)<br><h4 class="author">Stella Preussler<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>
</h4>
            <address class="author_afil">
      Institute of Medical Biostatistics, Epidemiology and Informatics (<a href="https://www.unimedizin-mainz.de/imbei/imbei/welcome-page.html?L=1">IMBEI, Mainz</a>)<br><h4 class="author">Federico Marini<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>
</h4>
            <address class="author_afil">
      Institute of Medical Biostatistics, Epidemiology and Informatics (<a href="https://www.unimedizin-mainz.de/imbei/imbei/welcome-page.html?L=1">IMBEI, Mainz</a>)<br><h4 class="author">Antje Jahn-Eimermacher<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a>
</h4>
            <address class="author_afil">
      Institute of Medical Biostatistics, Epidemiology and Informatics (<a href="https://www.unimedizin-mainz.de/imbei/imbei/welcome-page.html?L=1">IMBEI, Mainz</a>)<br><h4 class="date">2020-11-11</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/federicomarini/simrec/blob/master/vignettes/simrec-vignette.Rmd"><code>vignettes/simrec-vignette.Rmd</code></a></small>
      <div class="hidden name"><code>simrec-vignette.Rmd</code></div>

    </address>
</address>
</address>
</address>
</div>

    
    
<div id="abstract" class="section level1 unnumbered">
<h1 class="hasAnchor">
<a href="#abstract" class="anchor"></a>Abstract</h1>
<p><code>simrec</code> allows simulation of recurrent event data following the multiplicative intensity model described in <span class="citation">(Andersen and Gill 1982)</span> with the baseline hazard being a function of the total/calendar time. To induce between-subject-heterogeneity a random effect covariate (frailty term) can be incorporated. Furthermore, via <code>simreccomp</code> simulation of data following a multistate model with recurrent event data of one type and a competing event is possible. <code>simrecint</code> gives the possibility to additionally simulate a recruitment time for each individual and cut the data to an interim data set. With <code>simrecPlot</code> and <code>simreccompPlot</code> the data can be plotted.</p>
<p><strong>Keywords</strong>: recurrent event data, competing event, frailty, simulation, total-time model</p>
<!-- \usepackage{amsmath, amssymb} -->
<!-- \usepackage{tikz} -->
<!-- %% Note that you should use the \pkg{}, \proglang{} and \code{} commands. -->
</div>
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<!-- {#sec:intro} -->
<p>The <code>simrec</code> package includes the functions <code>simrec</code>, <code>simreccomp</code> and <code>simrecint</code> and allows simulation of recurrent event data. To induce between-subject-heterogeneity a random effect covariate (frailty term) can be incorporated. Via <code>simreccomp</code> time-to-event data that follow a multistate model with recurrent event data of one type and a competing event can be simulated. Data output is in the counting-process format. <code>simrecint</code> gives the possibility to additionally simulate a recruitment time for each individual and cut the data to an interim data set. With <code>simrecPlot</code> and <code>simreccompPlot</code> the data can be plotted.</p>
</div>
<div id="the-simrec-function" class="section level1">
<h1 class="hasAnchor">
<a href="#the-simrec-function" class="anchor"></a>The <code>simrec</code> function</h1>
<div id="description" class="section level2 unnumbered">
<h2 class="hasAnchor">
<a href="#description" class="anchor"></a>Description</h2>
<p>The function <code>simrec</code> allows simulation of recurrent event data following the multiplicative intensity model described in Andersen and Gill <span class="citation">(Andersen and Gill 1982)</span> with the baseline hazard being a function of the total/calendar time. To induce between-subject-heterogeneity a random effect covariate (frailty term) can be incorporated. Data for individual <span class="math inline">\(i\)</span> are generated according to the intensity process <span class="math display">\[Y_i(t)\cdot \lambda_0(t)\cdot Z_i \cdot \exp(\beta^t X_i)\]</span> where <span class="math inline">\(X_i\)</span> defines the covariate vector, and <span class="math inline">\(\beta\)</span> the regression coefficient vector. <span class="math inline">\(\lambda_0(t)\)</span> denotes the baseline hazard, being a function of the total/calendar time <span class="math inline">\(t\)</span>, and <span class="math inline">\(Y_i(t)\)</span> the predictable process that equals one as long as individual <span class="math inline">\(i\)</span> is under observation and at risk for experiencing events. <span class="math inline">\(Z_i\)</span> denotes the frailty variable with <span class="math inline">\((Z_i)_i\)</span> iid with <span class="math inline">\(E(Z_i)=1\)</span> and <span class="math inline">\(Var(Z_i)=\theta\)</span>. The parameter <span class="math inline">\(\theta\)</span> describes the degree of between-subject-heterogeneity. Data output is in the counting process format.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/simrec.html">simrec</a></span><span class="op">(</span><span class="va">N</span>, <span class="va">fu.min</span>, <span class="va">fu.max</span>, cens.prob <span class="op">=</span> <span class="fl">0</span>, dist.x <span class="op">=</span> <span class="st">"binomial"</span>, par.x <span class="op">=</span> <span class="fl">0</span>,
  beta.x <span class="op">=</span> <span class="fl">0</span>, dist.z <span class="op">=</span> <span class="st">"gamma"</span>, par.z <span class="op">=</span> <span class="fl">0</span>, <span class="va">dist.rec</span>, <span class="va">par.rec</span>, pfree <span class="op">=</span> <span class="fl">0</span>,
  dfree <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></code></pre></div>
</div>
<div id="parameters" class="section level2 unnumbered">
<h2 class="hasAnchor">
<a href="#parameters" class="anchor"></a>Parameters</h2>
<ul>
<li><p><code>N</code> Number of individuals</p></li>
<li><p><code>fu.min</code> Minimum length of follow-up.</p></li>
<li><p><code>fu.max</code> Maximum length of follow-up. Individuals length of follow-up is generated from a uniform distribution on <code>[fu.min, fu.max]</code>. If <code>fu.min=fu.max</code>, then all individuals have a common follow-up.</p></li>
<li><p><code>cens.prob</code> Gives the probability of being censored due to loss to follow-up before <code>fu.max</code>. For a random set of individuals defined by a B(N,<code>cens.prob</code>)-distribution, the time to censoring is generated from a uniform distribution on <code>[0, fu.max]</code>. Default is <code>cens.prob=0</code>, i.e. no censoring due to loss to follow-up.</p></li>
<li><p><code>dist.x</code> Distribution of the covariate(s) <span class="math inline">\(X\)</span>. If there is more than one covariate, <code>dist.x</code> must be a vector of distributions with one entry for each covariate. Possible values are <code>"binomial"</code> and <code>"normal"</code>, default is <code>"binomial"</code>.</p></li>
<li><p><code>par.x</code> Parameters of the covariate distribution(s). For <code>"binomial"</code>, <code>par.x</code> is the probability for <span class="math inline">\(x=1\)</span>. For <code>"normal"</code>, <code>par.x</code> is the vector of (<span class="math inline">\(\mu, \sigma\)</span>)} where <span class="math inline">\(\mu\)</span> is the mean and <span class="math inline">\(\sigma\)</span> is the standard deviation of a normal distribution. If one of the covariates is defined to be normally distributed, <code>par.x</code> must be a list, e.g. <code>dist.x &lt;- c("binomial", "normal")</code> and <code>par.x  &lt;- list(0.5, c(1,2))</code>. Default is <code>par.x = 0</code>, i.e. <span class="math inline">\(x=0\)</span> for all individuals.</p></li>
<li><p><code>beta.x</code> Regression coefficient(s) for the covariate(s) <span class="math inline">\(x\)</span>. If there is more than one covariate, <code>beta.x</code> must be a vector of coefficients with one entry for each covariate. <code>simrec</code> generates as many covariates as there are entries in <code>beta.x</code>. Default is <code>beta.x = 0</code>, corresponding to no effect of the covariate <span class="math inline">\(x\)</span>.</p></li>
<li><p><code>dist.z</code> Distribution of the frailty variable <span class="math inline">\(Z\)</span> with <span class="math inline">\(E(Z)=1\)</span> and <span class="math inline">\(Var(Z)=\theta\)</span>. Possible values are <code>"gamma"</code> for a Gamma distributed frailty and <code>"lognormal"</code> for a lognormal distributed frailty. Default is <code>dist.z="gamma"</code>.</p></li>
<li><p><code>par.z</code> Parameter <span class="math inline">\(\theta\)</span> for the frailty distribution: this parameter gives the variance of the frailty variable <span class="math inline">\(Z\)</span>. Default is <code>par.z=0</code>, which causes <span class="math inline">\(Z\equiv 1\)</span>, i.e. no frailty effect.</p></li>
<li><p><code>dist.rec</code> Form of the baseline hazard function. Possible values are <code>"weibull"</code> or <code>"gompertz"</code> or <code>"lognormal"</code> or <code>"step"</code>.</p></li>
<li><p><code>par.rec</code> Parameters for the distribution of the event data. <br> If <code>dist.rec="weibull"</code> the hazard function is <span class="math display">\[\lambda_0(t)=\lambda\cdot\nu\cdot t^{\nu - 1}\]</span> where <span class="math inline">\(\lambda&gt;0\)</span> is the scale and <span class="math inline">\(\nu&gt;0\)</span> is the shape parameter. Then <code>par.rec=c(lambda, nu)</code>. A special case of this is the exponential distribution for <span class="math inline">\(\nu=1\)</span>.\ If <code>dist.rec="gompertz"</code>, the hazard function is <span class="math display">\[\lambda_0(t)=\lambda\cdot \exp(\alpha t)\]</span> where <span class="math inline">\(\lambda&gt;0\)</span> is the scale and <span class="math inline">\(\alpha\in(-\infty,+\infty)\)</span> is the shape parameter. Then <code>par.rec=c(lambda, alpha)</code>. <br> If <code>dist.rec="lognormal"</code>, the hazard function is <span class="math display">\[\lambda_0(t) = \frac{1}{\sigma t} \cdot \frac{\phi(\frac{ln(t)-\mu}{\sigma})}{\Phi(\frac{-ln(t)-\mu}{\sigma})}\]</span> where <span class="math inline">\(\phi\)</span> is the probability density function and <span class="math inline">\(\Phi\)</span> is the cumulative distribution function of the standard normal distribution, <span class="math inline">\(\mu\in(-\infty,+\infty)\)</span> is a location parameter and <span class="math inline">\(\sigma&gt;0\)</span> is a shape parameter. Then <code>par.rec=c(mu,sigma)</code>. Please note that specifying <code>dist.rec="lognormal"</code> together with some covariates does not specify the usual lognormal model (with covariates specified as effects on the parameters of the lognormal distribution resulting in non-proportional hazards), but only defines the baseline hazard and incorporates covariate effects using the proportional hazard assumption. <br> If <code>dist.rec="step"</code> the hazard function is <span class="math display">\[\lambda_0(t)=\begin{cases} a, &amp; t\leq t_1\cr b, &amp; t&gt;t_1\end{cases}\]</span> Then <code>par.rec=c(a,b,t_1)</code>, with <span class="math inline">\(a,b\geq 0\)</span>.</p></li>
<li><p><code>pfree</code> Probability that after experiencing an event the individual is not at risk for experiencing further events for a length of <code>dfree</code> time units. Default is <code>pfree = 0</code>.</p></li>
<li><p><code>dfree</code> Length of the risk-free interval. Must be in the same time unit as <code>fu.max</code>. Default is <code>dfree = 0</code>, i.e. the individual is continously at risk for experiencing events until end of follow-up.</p></li>
</ul>
</div>
<div id="output" class="section level2 unnumbered">
<h2 class="hasAnchor">
<a href="#output" class="anchor"></a>Output</h2>
<p>The output is a <code>data.frame</code> consisting of the columns:</p>
<ul>
<li>
<code>id</code> An integer number for identification of each individual</li>
<li>
<code>x</code> or <code>x.V1, x.V2, ...</code> - depending on the covariate matrix. Contains the randomly generated value of the covariate(s) <span class="math inline">\(X\)</span> for each individual.</li>
<li>
<code>z</code> Contains the randomly generated value of the frailty variable <span class="math inline">\(Z\)</span> for each individual.</li>
<li>
<code>start</code> The start of interval <code>[start, stop]</code>, when the individual starts to be at risk for a next event.</li>
<li>
<code>stop</code> The time of an event or censoring, i.e. the end of interval <code>[start, stop]</code>.</li>
<li>
<code>status</code> An indicator of whether an event occured at time <code>stop</code> (<code>status=1</code>) or the individual is censored at time <code>stop</code> (<code>status=0</code>).</li>
<li>
<code>fu</code> Length of follow-up period <code>[0,fu]</code> for each individual.</li>
</ul>
<p>For each individual there are as many lines as it experiences events, plus one line if being censored. The data format corresponds to the counting process format.</p>
</div>
<div id="details" class="section level2 unnumbered">
<h2 class="hasAnchor">
<a href="#details" class="anchor"></a>Details</h2>
<p>Data are simulated by extending the methods proposed by Bender <span class="citation">(Bender, Augustin, and Blettner 2005)</span> to the multiplicative intensity model. You can read more on this in our work <span class="citation">(Jahn-Eimermacher et al. 2015)</span>.</p>
</div>
<div id="example" class="section level2 unnumbered">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/federicomarini/simrec">simrec</a></span><span class="op">)</span>
<span class="co">### Example:</span>
<span class="co">### A sample of 10 individuals</span>

<span class="va">N</span> <span class="op">&lt;-</span> <span class="fl">10</span>

<span class="co">### with a binomially distributed covariate with a regression coefficient</span>
<span class="co">### of beta=0.3, and a standard normally distributed covariate with a</span>
<span class="co">### regression coefficient of beta=0.2,</span>

<span class="va">dist.x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"binomial"</span>, <span class="st">"normal"</span><span class="op">)</span>
<span class="va">par.x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="va">beta.x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.3</span>, <span class="fl">0.2</span><span class="op">)</span>

<span class="co">### a gamma distributed frailty variable with variance 0.25</span>

<span class="va">dist.z</span> <span class="op">&lt;-</span> <span class="st">"gamma"</span>
<span class="va">par.z</span> <span class="op">&lt;-</span> <span class="fl">0.25</span>

<span class="co">### and a Weibull-shaped baseline hazard with shape parameter lambda=1</span>
<span class="co">### and scale parameter nu=2.</span>

<span class="va">dist.rec</span> <span class="op">&lt;-</span> <span class="st">"weibull"</span>
<span class="va">par.rec</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span>

<span class="co">### Subjects are to be followed for two years with 20\% of the subjects</span>
<span class="co">### being censored according to a uniformly distributed censoring time</span>
<span class="co">### within [0,2] (in years).</span>

<span class="va">fu.min</span> <span class="op">&lt;-</span> <span class="fl">2</span>
<span class="va">fu.max</span> <span class="op">&lt;-</span> <span class="fl">2</span>
<span class="va">cens.prob</span> <span class="op">&lt;-</span> <span class="fl">0.2</span>

<span class="co">### After each event a subject is not at risk for experiencing further events</span>
<span class="co">### for a period of 30 days with a probability of 50\%.</span>

<span class="va">dfree</span> <span class="op">&lt;-</span> <span class="fl">30</span><span class="op">/</span><span class="fl">365</span>
<span class="va">pfree</span> <span class="op">&lt;-</span> <span class="fl">0.5</span>

<span class="va">simdata</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simrec.html">simrec</a></span><span class="op">(</span><span class="va">N</span>, <span class="va">fu.min</span>, <span class="va">fu.max</span>, <span class="va">cens.prob</span>, <span class="va">dist.x</span>, <span class="va">par.x</span>, <span class="va">beta.x</span>,
                  <span class="va">dist.z</span>, <span class="va">par.z</span>, <span class="va">dist.rec</span>, <span class="va">par.rec</span>, <span class="va">pfree</span>, <span class="va">dfree</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">simdata</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,<span class="op">]</span><span class="op">)</span>
<span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html">datatable</a></span><span class="op">(</span><span class="va">simdata</span><span class="op">)</span></code></pre></div>
<pre><code>##    id x.V1       x.V2         z     start      stop status       fu
## 1   1    1  0.8511818 0.8547160 0.0000000 0.1579638      1 1.320757
## 2   1    1  0.8511818 0.8547160 0.1579638 1.3207570      0 1.320757
## 3   2    0 -2.2047470 1.6750799 0.0000000 1.0162442      1 2.000000
## 4   2    0 -2.2047470 1.6750799 1.0984360 1.2847479      1 2.000000
## 5   2    0 -2.2047470 1.6750799 1.3669396 1.5081206      1 2.000000
## 6   2    0 -2.2047470 1.6750799 1.5081206 1.5222892      1 2.000000
## 7   2    0 -2.2047470 1.6750799 1.5222892 1.5731542      1 2.000000
## 8   2    0 -2.2047470 1.6750799 1.5731542 2.0000000      0 2.000000
## 9   3    1  1.9747318 0.8257877 0.0000000 0.3669272      1 2.000000
## 10  3    1  1.9747318 0.8257877 0.3669272 0.5140114      1 2.000000</code></pre>
<div id="htmlwidget-eaa7853907c06c50fe55" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-eaa7853907c06c50fe55">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61"],[1,1,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,4,4,4,5,5,5,5,5,6,6,6,6,6,6,6,7,7,8,8,8,8,8,8,8,8,8,8,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10],[1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0.851181772620767,0.851181772620767,-2.20474697955854,-2.20474697955854,-2.20474697955854,-2.20474697955854,-2.20474697955854,-2.20474697955854,1.97473176134755,1.97473176134755,1.97473176134755,1.97473176134755,1.97473176134755,1.97473176134755,1.97473176134755,1.97473176134755,1.97473176134755,1.97473176134755,1.31237168481631,1.31237168481631,1.31237168481631,2.28457465921573,2.28457465921573,2.28457465921573,2.28457465921573,2.28457465921573,1.03329255983817,1.03329255983817,1.03329255983817,1.03329255983817,1.03329255983817,1.03329255983817,1.03329255983817,-0.442716303545345,-0.442716303545345,-1.87566169719697,-1.87566169719697,-1.87566169719697,-1.87566169719697,-1.87566169719697,-1.87566169719697,-1.87566169719697,-1.87566169719697,-1.87566169719697,-1.87566169719697,-0.340451602250275,-0.340451602250275,-0.340451602250275,-0.340451602250275,-0.340451602250275,-0.340451602250275,-0.476374090701937,-0.476374090701937,-0.476374090701937,-0.476374090701937,-0.476374090701937,-0.476374090701937,-0.476374090701937,-0.476374090701937,-0.476374090701937],[0.85471602331093,0.85471602331093,1.67507989864245,1.67507989864245,1.67507989864245,1.67507989864245,1.67507989864245,1.67507989864245,0.82578765733876,0.82578765733876,0.82578765733876,0.82578765733876,0.82578765733876,0.82578765733876,0.82578765733876,0.82578765733876,0.82578765733876,0.82578765733876,0.400950499250903,0.400950499250903,0.400950499250903,0.625616100511938,0.625616100511938,0.625616100511938,0.625616100511938,0.625616100511938,1.59027074067922,1.59027074067922,1.59027074067922,1.59027074067922,1.59027074067922,1.59027074067922,1.59027074067922,0.668787273699187,0.668787273699187,0.885449250506474,0.885449250506474,0.885449250506474,0.885449250506474,0.885449250506474,0.885449250506474,0.885449250506474,0.885449250506474,0.885449250506474,0.885449250506474,1.12489635815117,1.12489635815117,1.12489635815117,1.12489635815117,1.12489635815117,1.12489635815117,1.92654255869311,1.92654255869311,1.92654255869311,1.92654255869311,1.92654255869311,1.92654255869311,1.92654255869311,1.92654255869311,1.92654255869311],[0,0.157963776785269,0,1.09843596343986,1.36693963187766,1.50812056794535,1.52228921490105,1.57315422372866,0,0.366927247395232,0.596203167238677,0.762069537991531,1.09215128214783,1.43689976212693,1.56117684739283,1.56882434490839,1.69799536735489,1.83597822378726,0,0.705079041723032,1.45208204521861,0,1.21398149171373,1.37912063563003,1.73660030241888,1.80572677752705,0,0.974667502297942,1.3375612229915,1.45532714436083,1.54951491656822,1.77493421162108,1.77508444061788,0,1.25343016523665,0,0.615495831241205,0.766159744840325,0.878102383638971,0.997728073148899,1.09346965755036,1.63909470606363,1.7389477351329,1.85333612276303,1.96526222266209,0,0.536955841561227,1.377417757015,1.46313562661049,1.6722352791958,1.90306743485239,0,0.213152811754293,0.348383545126121,0.482816387949634,0.576025979537138,1.00569832057564,1.11572385941272,1.699565848588,1.9296538097149],[0.157963776785269,1.32075695414096,1.01624418261795,1.28474785105574,1.50812056794535,1.52228921490105,1.57315422372866,2,0.366927247395232,0.514011386416759,0.679877757169614,1.09215128214783,1.35470798130502,1.56117684739283,1.56882434490839,1.61580358653297,1.83597822378726,2,0.705079041723032,1.3698902643967,2,1.13178971089182,1.37912063563003,1.65440852159696,1.80572677752705,2,0.892475721476024,1.3375612229915,1.45532714436083,1.4673231357463,1.77493421162108,1.77508444061788,1.9213800569264,1.17123838441473,2,0.615495831241205,0.683967964018407,0.795910602817053,0.997728073148899,1.09346965755036,1.55690292524172,1.7389477351329,1.85333612276303,1.96526222266209,2,0.45476406073931,1.29522597619308,1.46313562661049,1.59004349837388,1.90306743485239,2,0.213152811754293,0.266191764304203,0.400624607127716,0.576025979537138,0.923506539753718,1.0335320785908,1.699565848588,1.9296538097149,2],[1,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,0,1,1,0,1,1,1,1,0,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,0],[1.32075695414096,1.32075695414096,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>id<\/th>\n      <th>x.V1<\/th>\n      <th>x.V2<\/th>\n      <th>z<\/th>\n      <th>start<\/th>\n      <th>stop<\/th>\n      <th>status<\/th>\n      <th>fu<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,8]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="the-simreccomp-function" class="section level1">
<h1 class="hasAnchor">
<a href="#the-simreccomp-function" class="anchor"></a>The <code>simreccomp</code> function</h1>
<div id="description-1" class="section level2 unnumbered">
<h2 class="hasAnchor">
<a href="#description-1" class="anchor"></a>Description</h2>
<p>The function <code>simreccomp</code> allows simulation of time-to-event-data that follow a multistate-model with recurrent events of one type and a competing event. The baseline hazard for the cause-specific hazards are here functions of the total/calendar time. To induce between-subject-heterogeneity a random effect covariate (frailty term) can be incorporated for the recurrent and the competing event.</p>
<p>Data for the recurrent events of the individual <span class="math inline">\(i\)</span> are generated according to the cause-specific hazards <span class="math display">\[\lambda_{0r}(t)\cdot Z_{ri} \cdot \exp(\beta_r^t X_i)\]</span> where <span class="math inline">\(X_i\)</span> defines the covariate vector and <span class="math inline">\(\beta_r\)</span> the regression coefficient vector. <span class="math inline">\(\lambda_{0r}(t)\)</span> denotes the baseline hazard, being a function of the total/calendar time <span class="math inline">\(t\)</span> and <span class="math inline">\(Z_{ri}\)</span> denotes the frailty variables with <span class="math inline">\((Z_{ri})_i\)</span> iid with <span class="math inline">\(E(Z_{ri})=1\)</span> and <span class="math inline">\(Var(Z_{ri})=\theta_r\)</span>. The parameter <span class="math inline">\(\theta_r\)</span> describes the degree of between-subject-heterogeneity for the recurrent event. Analougously the competing event is generated according to the cause-specific hazard conditionally on the frailty variable and covariates: <span class="math display">\[\lambda_{0c}(t)\cdot Z_{ci} \cdot \exp(\beta_c^t X_i)\]</span> Data output is in the counting process format.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/simreccomp.html">simreccomp</a></span><span class="op">(</span><span class="va">N</span>, <span class="va">fu.min</span>, <span class="va">fu.max</span>, cens.prob <span class="op">=</span> <span class="fl">0</span>, dist.x <span class="op">=</span> <span class="st">"binomial"</span>, par.x <span class="op">=</span> <span class="fl">0</span>,
           beta.xr <span class="op">=</span> <span class="fl">0</span>, beta.xc <span class="op">=</span> <span class="fl">0</span>, dist.zr <span class="op">=</span> <span class="st">"gamma"</span>, par.zr <span class="op">=</span> <span class="fl">0</span>, a <span class="op">=</span> <span class="cn">NULL</span>,
           dist.zc <span class="op">=</span> <span class="cn">NULL</span>, par.zc <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">dist.rec</span>, <span class="va">par.rec</span>,
           <span class="va">dist.comp</span>, <span class="va">par.comp</span>, pfree <span class="op">=</span> <span class="fl">0</span>, dfree <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></code></pre></div>
</div>
<div id="parameters-1" class="section level2 unnumbered">
<h2 class="hasAnchor">
<a href="#parameters-1" class="anchor"></a>Parameters</h2>
<ul>
<li><p><code>N</code> Number of individuals</p></li>
<li><p><code>fu.min</code> Minimum length of follow-up.</p></li>
<li><p><code>fu.max</code> Maximum length of follow-up. Individuals length of follow-up is generated from a uniform distribution on <code>[fu.min, fu.max]</code>. If <code>fu.min=fu.max</code>, then all individuals have a common follow-up.</p></li>
<li><p><code>cens.prob</code> Gives the probability of being censored due to loss to follow-up before <code>fu.max</code>. For a random set of individuals defined by a B(N,<code>cens.prob</code>)-distribution, the time to censoring is generated from a uniform distribution on <code>[0, fu.max]</code>. Default is <code>cens.prob=0</code>, i.e. no censoring due to loss to follow-up.</p></li>
<li><p><code>dist.x</code> Distribution of the covariate(s) <span class="math inline">\(X\)</span>. If there is more than one covariate, <code>dist.x</code> must be a vector of distributions with one entry for each covariate. Possible values are <code>"binomial"</code> and <code>"normal"</code>, default is <code>"binomial"</code>.</p></li>
<li><p><code>par.x</code> Parameters of the covariate distribution(s). For <code>"binomial"</code>, <code>par.x</code> is the probability for <span class="math inline">\(x=1\)</span>. For <code>"normal"</code>, <code>par.x</code> is the vector of (<span class="math inline">\(\mu, \sigma\)</span>)} where <span class="math inline">\(\mu\)</span> is the mean and <span class="math inline">\(\sigma\)</span> is the standard deviation of a normal distribution. If one of the covariates is defined to be normally distributed, <code>par.x</code> must be a list, e.g. <code>dist.x &lt;- c("binomial", "normal")</code> and <code>par.x  &lt;- list(0.5, c(1,2))</code>. Default is <code>par.x = 0</code>, i.e. <span class="math inline">\(x=0\)</span> for all individuals.</p></li>
<li><p><code>beta.xr</code> Regression coefficient(s) for the covariate(s) <span class="math inline">\(x\)</span> corresponding to the recurrent events. If there is more than one covariate, <code>beta.xr</code> must be a vector of coefficients with one entry for each covariate. <code>simreccomp</code> generates as many covariates as there are entries in <code>beta.xr</code>. Default is <code>beta.xr = 0</code>, corresponding to no effect of the covariate <span class="math inline">\(x\)</span> on the recurrent events.</p></li>
<li><p><code>beta.xc</code> Regression coefficient(s) for the covariate(s) <span class="math inline">\(x\)</span> corresponding to the competing event. If there is more than one covariate, <code>beta.xc</code> must be a vector of coefficients with one entry for each covariate. <code>simreccomp</code> generates as many covariates as there are entries in <code>beta.xc</code>. Default is <code>beta.xc = 0</code>, corresponding to no effect of the covariate <span class="math inline">\(x\)</span> on the competing event.</p></li>
<li><p><code>dist.zr</code> Distribution of the frailty variable <span class="math inline">\(Z_r\)</span> for the recurrent events with <span class="math inline">\(E(Z_r)=1\)</span> and <span class="math inline">\(Var(Z_r)=\theta_r\)</span>. Possible values are <code>"gamma"</code> for a Gamma distributed frailty and <code>"lognormal"</code> for a lognormal distributed frailty. Default is <code>dist.zr="gamma"</code>.</p></li>
<li><p><code>par.zr</code> Parameter <span class="math inline">\(\theta_r\)</span> for the frailty distribution: this parameter gives the variance of the frailty variable <span class="math inline">\(Z_r\)</span>. Default is <code>par.zr=0</code>, which causes <span class="math inline">\(Z\equiv 1\)</span>, i.e. no frailty effect for the recurrent events.</p></li>
<li><p><code>dist.zc</code> Distribution of the frailty variable <span class="math inline">\(Z_c\)</span> for the competing event with <span class="math inline">\(E(Z_c)=1\)</span> and <span class="math inline">\(Var(Z_c)=\theta_r\)</span>. Possible values are <code>"gamma"</code> for a Gamma distributed frailty and <code>"lognormal"</code> for a lognormal distributed frailty.</p></li>
<li><p><code>par.zc</code> Parameter <span class="math inline">\(\theta_c\)</span> for the frailty distribution: this parameter gives the variance of the frailty variable <span class="math inline">\(Z_c\)</span>.</p></li>
<li><p><code>a</code> Alternatively, the frailty distribution for the competing event can be computed through the distribution of the frailty variable <span class="math inline">\(Z_r\)</span> by <span class="math inline">\(Z_c=Z_r^a\)</span>. Either <code>a</code> or <code>dist.zc</code> and <code>par.zc</code> must be specified.</p></li>
<li><p><code>dist.rec</code> Form of the baseline hazard function for the recurrent events. Possible values are <code>"weibull"</code> or <code>"gompertz"</code> or <code>"lognormal"</code> or <code>"step"</code>.</p></li>
<li><p><code>par.rec</code> Parameters for the distribution of the recurrent event data. <br> If <code>dist.rec="weibull"</code> the hazard function is <span class="math display">\[\lambda_0(t)=\lambda\cdot\nu\cdot t^{\nu - 1}\]</span> where <span class="math inline">\(\lambda&gt;0\)</span> is the scale and <span class="math inline">\(\nu&gt;0\)</span> is the shape parameter. Then <code>par.rec=c(lambda, nu)</code>. A special case of this is the exponential distribution for <span class="math inline">\(\nu=1\)</span>.\ If <code>dist.rec="gompertz"</code>, the hazard function is <span class="math display">\[\lambda_0(t)=\lambda\cdot \exp(\alpha t)\]</span> where <span class="math inline">\(\lambda&gt;0\)</span> is the scale and <span class="math inline">\(\alpha\in(-\infty,+\infty)\)</span> is the shape parameter. Then <code>par.rec=c(lambda, alpha)</code>. <br> If <code>dist.rec="lognormal"</code>, the hazard function is <span class="math display">\[\lambda_0(t) = \frac{1}{\sigma t} \cdot \frac{\phi(\frac{ln(t)-\mu}{\sigma})}{\Phi(\frac{-ln(t)-\mu}{\sigma})}\]</span> where <span class="math inline">\(\phi\)</span> is the probability density function and <span class="math inline">\(\Phi\)</span> is the cumulative distribution function of the standard normal distribution, <span class="math inline">\(\mu\in(-\infty,+\infty)\)</span> is a location parameter and <span class="math inline">\(\sigma&gt;0\)</span> is a shape parameter. Then <code>par.rec=c(mu,sigma)</code>. Please note that specifying <code>dist.rec="lognormal"</code> together with some covariates does not specify the usual lognormal model (with covariates specified as effects on the parameters of the lognormal distribution resulting in non-proportional hazards), but only defines the baseline hazard and incorporates covariate effects using the proportional hazard assumption. <br> If <code>dist.rec="step"</code> the hazard function is <span class="math display">\[\lambda_0(t)=\begin{cases} a, &amp; t\leq t_1\cr b, &amp; t&gt;t_1\end{cases}\]</span> Then <code>par.rec=c(a,b,t_1)</code>, with <span class="math inline">\(a,b\geq 0\)</span>.</p></li>
<li><p><code>dist.comp</code> Form of the baseline hazard function for the competing event. Possible values are <code>"weibull"</code> or <code>"gompertz"</code> or <code>"lognormal"</code> or <code>"step"</code>.</p></li>
<li><p><code>par.comp</code> Parameters for the distribution of the competing event data. For more details see <code>par.rec</code>.</p></li>
<li><p><code>pfree</code> Probability that after experiencing an event the individual is not at risk for experiencing further events for a length of <code>dfree</code> time units. Default is <code>pfree = 0</code>.</p></li>
<li><p><code>dfree</code> Length of the risk-free interval. Must be in the same time unit as <code>fu.max</code>. Default is <code>dfree = 0</code>, i.e. the individual is continously at risk for experiencing events until end of follow-up.</p></li>
</ul>
</div>
<div id="output-1" class="section level2 unnumbered">
<h2 class="hasAnchor">
<a href="#output-1" class="anchor"></a>Output</h2>
<p>The output is a <code>data.frame</code> consisting of the columns:</p>
<ul>
<li>
<code>id</code> An integer number for identification of each individual</li>
<li>
<code>x</code> or <code>x.V1, x.V2, ...</code> - depending on the covariate matrix. Contains the randomly generated value of the covariate(s) <span class="math inline">\(X\)</span> for each individual.</li>
<li>
<code>zr</code> Contains the randomly generated value of the frailty variable <span class="math inline">\(Z_r\)</span> for each individual.</li>
<li>
<code>zc</code> Contains the randomly generated value of the frailty variable <span class="math inline">\(Z_c\)</span> for each individual.</li>
<li>
<code>start</code> The start of interval <code>[start, stop]</code>, when the individual starts to be at risk for a next event.</li>
<li>
<code>stop</code> The time of an event or censoring, i.e. the end of interval <code>[start, stop]</code>.</li>
<li>
<code>status</code> An indicator of whether an event occured at time <code>stop</code> (<code>status=1</code>) or the individual is censored at time <code>stop</code> (<code>status=0</code>) or the competing event occured at time <code>stop</code> (<code>status=2</code>).</li>
<li>
<code>fu</code> Length of follow-up period <code>[0,fu]</code> for each individual.</li>
</ul>
<p>For each individual there are as many lines as it experiences events, plus one line if being censored. The data format corresponds to the counting process format.</p>
</div>
<div id="example-1" class="section level2 unnumbered">
<h2 class="hasAnchor">
<a href="#example-1" class="anchor"></a>Example</h2>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/federicomarini/simrec">simrec</a></span><span class="op">)</span>
<span class="co">### Example:</span>
<span class="co">### A sample of 10 individuals</span>

<span class="va">N</span> <span class="op">&lt;-</span> <span class="fl">10</span>

<span class="co">### with a binomially distributed covariate and a standard normally distributed</span>
<span class="co">### covariate with regression coefficients of beta.xr=0.3 and beta.xr=0.2,</span>
<span class="co">### respectively, for the recurrent events,</span>
<span class="co">### as well as regression coefficients of beta.xc=0.5 and beta.xc=0.25,</span>
<span class="co">### respectively, for the competing event.</span>

<span class="va">dist.x</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"binomial"</span>, <span class="st">"normal"</span><span class="op">)</span>
<span class="va">par.x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="va">beta.xr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.3</span>, <span class="fl">0.2</span><span class="op">)</span>
<span class="va">beta.xc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.25</span><span class="op">)</span>

<span class="co">### a gamma distributed frailty variable for the recurrent event with</span>
<span class="co">### variance 0.25 and for the competing event with variance 0.3,</span>

<span class="va">dist.zr</span> <span class="op">&lt;-</span> <span class="st">"gamma"</span>
<span class="va">par.zr</span> <span class="op">&lt;-</span> <span class="fl">0.25</span>

<span class="va">dist.zc</span> <span class="op">&lt;-</span> <span class="st">"gamma"</span>
<span class="va">par.zc</span> <span class="op">&lt;-</span> <span class="fl">0.3</span>

<span class="co">### alternatively the frailty variable for the competing event can be computed</span>
<span class="co">### via a:</span>
<span class="va">a</span> <span class="op">&lt;-</span> <span class="fl">0.5</span>

<span class="co">### Furthermore a Weibull-shaped baseline hazard for the recurrent event with</span>
<span class="co">### shape parameter lambda=1 and scale parameter nu=2,</span>

<span class="va">dist.rec</span> <span class="op">&lt;-</span> <span class="st">"weibull"</span>
<span class="va">par.rec</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>

<span class="co">### and a Weibull-shaped baseline hazard for the competing event with</span>
<span class="co">### shape parameter lambda=1 and scale parameter nu=2</span>

<span class="va">dist.comp</span> <span class="op">&lt;-</span> <span class="st">"weibull"</span>
<span class="va">par.comp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>

<span class="co">### Subjects are to be followed for two years with 20% of the subjects</span>
<span class="co">### being censored according to a uniformly distributed censoring time</span>
<span class="co">### within [0,2] (in years).</span>

<span class="va">fu.min</span> <span class="op">&lt;-</span> <span class="fl">2</span>
<span class="va">fu.max</span> <span class="op">&lt;-</span> <span class="fl">2</span>
<span class="va">cens.prob</span> <span class="op">&lt;-</span> <span class="fl">0.2</span>

<span class="co">### After each event a subject is not at risk for experiencing further events</span>
<span class="co">### for a period of 30 days with a probability of 50%.</span>

<span class="va">dfree</span> <span class="op">&lt;-</span> <span class="fl">30</span><span class="op">/</span><span class="fl">365</span>
<span class="va">pfree</span> <span class="op">&lt;-</span> <span class="fl">0.5</span>

<span class="va">simdata1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simreccomp.html">simreccomp</a></span><span class="op">(</span>N <span class="op">=</span> <span class="va">N</span>, fu.min <span class="op">=</span> <span class="va">fu.min</span>, fu.max <span class="op">=</span> <span class="va">fu.max</span>, cens.prob <span class="op">=</span> <span class="va">cens.prob</span>,
                       dist.x <span class="op">=</span> <span class="va">dist.x</span>, par.x <span class="op">=</span> <span class="va">par.x</span>, beta.xr <span class="op">=</span> <span class="va">beta.xr</span>,
                       beta.xc <span class="op">=</span> <span class="va">beta.xc</span>, dist.zr <span class="op">=</span> <span class="va">dist.zr</span>, par.zr <span class="op">=</span> <span class="va">par.zr</span>, a <span class="op">=</span> <span class="va">a</span>,
                       dist.rec <span class="op">=</span> <span class="va">dist.rec</span>, par.rec <span class="op">=</span> <span class="va">par.rec</span>, dist.comp <span class="op">=</span> <span class="va">dist.comp</span>,
                       par.comp <span class="op">=</span> <span class="va">par.comp</span>, pfree <span class="op">=</span> <span class="va">pfree</span>, dfree <span class="op">=</span> <span class="va">dfree</span><span class="op">)</span>
<span class="va">simdata2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simreccomp.html">simreccomp</a></span><span class="op">(</span>N <span class="op">=</span> <span class="va">N</span>, fu.min <span class="op">=</span> <span class="va">fu.min</span>, fu.max <span class="op">=</span> <span class="va">fu.max</span>, cens.prob <span class="op">=</span> <span class="va">cens.prob</span>,
                       dist.x <span class="op">=</span> <span class="va">dist.x</span>, par.x <span class="op">=</span> <span class="va">par.x</span>, beta.xr <span class="op">=</span> <span class="va">beta.xr</span>,
                       beta.xc <span class="op">=</span> <span class="va">beta.xc</span>, dist.zr <span class="op">=</span> <span class="va">dist.zr</span>, par.zr <span class="op">=</span> <span class="va">par.zr</span>,
                       dist.zc <span class="op">=</span> <span class="va">dist.zc</span>, par.zc <span class="op">=</span> <span class="va">par.zc</span>, dist.rec <span class="op">=</span> <span class="va">dist.rec</span>,
                       par.rec <span class="op">=</span> <span class="va">par.rec</span>, dist.comp <span class="op">=</span> <span class="va">dist.comp</span>,
                       par.comp <span class="op">=</span> <span class="va">par.comp</span>, pfree <span class="op">=</span> <span class="va">pfree</span>, dfree <span class="op">=</span> <span class="va">dfree</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">simdata1</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="op">]</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">simdata2</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="op">]</span><span class="op">)</span>
<span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html">datatable</a></span><span class="op">(</span><span class="va">simdata1</span><span class="op">)</span>
<span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html">datatable</a></span><span class="op">(</span><span class="va">simdata2</span><span class="op">)</span></code></pre></div>
<pre><code>##    id x.V1       x.V2        zr        zc     start      stop status        fu
## 1   1    1  0.6387201 1.2461054 1.1162909 0.0000000 0.2642979      1 0.7215520
## 2   1    1  0.6387201 1.2461054 1.1162909 0.2642979 0.4449954      1 0.7215520
## 3   1    1  0.6387201 1.2461054 1.1162909 0.4449954 0.7215520      2 0.7215520
## 11  2    0  1.7933185 2.0667836 1.4376313 0.0000000 0.5027894      1 1.0156405
## 12  2    0  1.7933185 2.0667836 1.4376313 0.5027894 0.6176114      1 1.0156405
## 13  2    0  1.7933185 2.0667836 1.4376313 0.6998032 0.9876252      1 1.0156405
## 14  2    0  1.7933185 2.0667836 1.4376313 0.9876252 1.0156405      2 1.0156405
## 21  3    1 -0.8299416 0.4744950 0.6888360 0.0000000 0.5746880      2 0.5746880
## 24  4    1  0.6036702 0.4989453 0.7063606 0.0000000 0.7208756      2 0.7208756
## 28  5    1  1.1247398 1.3337400 1.1548766 0.0000000 0.2387729      2 0.2387729
##    id x.V1        x.V2        zr        zc     start      stop status        fu
## 1   1    0 -0.76099124 1.4900374 0.8431291 0.0000000 1.5040401      1 1.5244274
## 3   2    0  0.28241649 1.4791927 0.6250178 0.0000000 0.4385967      1 0.5747593
## 4   2    0  0.28241649 1.4791927 0.6250178 0.5207885 0.5747593      0 0.5747593
## 5   3    0  0.71506936 1.3105703 1.4277393 0.0000000 0.3095506      2 0.3095506
## 10  4    0 -1.26562613 0.4317120 1.1365250 0.0000000 1.6431674      2 1.6431674
## 12  5    0  0.02377552 2.0919858 0.3303551 0.0000000 1.0772384      1 1.3382149
## 13  5    0  0.02377552 2.0919858 0.3303551 1.0772384 1.3382149      2 1.3382149
## 18  6    1 -0.11877887 0.8390710 1.4090997 0.0000000 0.2633842      2 0.2633842
## 23  7    0 -0.33296385 0.8163828 1.4866549 0.0000000 0.4596688      2 0.4596688
## 27  8    1 -0.02252132 0.9435561 1.2591909 0.0000000 0.4784640      2 0.4784640</code></pre>
<p></p>
<div id="htmlwidget-0bf35c7ab1295dca46ea" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-0bf35c7ab1295dca46ea">{"x":{"filter":"none","data":[["1","2","3","11","12","13","14","21","24","28","40","46","48","50","59"],[1,1,1,2,2,2,2,3,4,5,6,7,8,9,10],[1,1,1,0,0,0,0,1,1,1,1,1,1,1,0],[0.638720059397485,0.638720059397485,0.638720059397485,1.793318460524,1.793318460524,1.793318460524,1.793318460524,-0.829941557161769,0.60367022151662,1.12473978042494,0.383492461511952,-0.940456327694682,0.13233943276454,0.506017933177795,-0.695934171359554],[1.24610538037386,1.24610538037386,1.24610538037386,2.06678362181584,2.06678362181584,2.06678362181584,2.06678362181584,0.474494975091435,0.498945252198326,1.33373998359866,1.18210930208069,2.12947428743969,0.565019811210736,1.19382676223982,1.47131565163333],[1.11629090311346,1.11629090311346,1.11629090311346,1.43763125376984,1.43763125376984,1.43763125376984,1.43763125376984,0.688835956590127,0.70636056812249,1.15487660968549,1.08724850061092,1.45927183466265,0.751677997024481,1.09262379721468,1.21297800954235],[0,0.264297948680868,0.444995394623296,0,0.50278939496489,0.699803217718884,0.987625233146303,0,0,0,0,0,0,0,0],[0.264297948680868,0.444995394623296,0.721552022412203,0.50278939496489,0.617611436896966,0.987625233146303,1.01564049751262,0.574688034175623,0.720875606401858,0.238772924356578,0.277802953761668,0.234731154050678,0.92931860499084,0.871074210346782,0.443106812909742],[1,1,2,1,1,1,2,2,2,2,2,0,0,2,2],[0.721552022412203,0.721552022412203,0.721552022412203,1.01564049751262,1.01564049751262,1.01564049751262,1.01564049751262,0.574688034175623,0.720875606401858,0.238772924356578,0.277802953761668,0.234731154050678,0.92931860499084,0.871074210346782,0.443106812909742]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>id<\/th>\n      <th>x.V1<\/th>\n      <th>x.V2<\/th>\n      <th>zr<\/th>\n      <th>zc<\/th>\n      <th>start<\/th>\n      <th>stop<\/th>\n      <th>status<\/th>\n      <th>fu<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,8,9]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script><div id="htmlwidget-8b1c0efbaa330a841a92" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-8b1c0efbaa330a841a92">{"x":{"filter":"none","data":[["1","3","4","5","10","12","13","18","23","27","35","37"],[1,2,2,3,4,5,5,6,7,8,9,10],[0,0,0,0,0,0,0,1,0,1,0,0],[-0.760991240785766,0.282416486571492,0.282416486571492,0.715069362815116,-1.26562612791473,0.0237755207601407,0.0237755207601407,-0.118778866028526,-0.332963850891366,-0.022521322283126,-0.590744617785394,0.695167261759382],[1.4900373642976,1.47919265162677,1.47919265162677,1.3105702601545,0.431712003448318,2.09198577839329,2.09198577839329,0.839071026677444,0.81638278059589,0.943556062467967,0.502495246995722,0.849292579043937],[0.843129092598126,0.625017802393486,0.625017802393486,1.42773932478855,1.13652503581042,0.330355092242563,0.330355092242563,1.4090997038062,1.48665491239363,1.25919093715279,1.72404810427473,0.953876657250266],[0,0,0.520788450272723,0,0,0,1.0772384090382,0,0,0,0,0],[1.50404006342541,0.438596669450806,0.574759296141565,0.309550623775434,1.64316738511818,1.0772384090382,1.3382148973391,0.263384223150451,0.459668831665675,0.478463977074145,0.620890724852386,1.15332026224599],[1,1,0,2,2,1,2,2,2,2,2,2],[1.52442737779971,0.574759296141565,0.574759296141565,0.309550623775434,1.64316738511818,1.3382148973391,1.3382148973391,0.263384223150451,0.459668831665675,0.478463977074145,0.620890724852386,1.15332026224599]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>id<\/th>\n      <th>x.V1<\/th>\n      <th>x.V2<\/th>\n      <th>zr<\/th>\n      <th>zc<\/th>\n      <th>start<\/th>\n      <th>stop<\/th>\n      <th>status<\/th>\n      <th>fu<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,8,9]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="the-simrecint-function" class="section level1">
<h1 class="hasAnchor">
<a href="#the-simrecint-function" class="anchor"></a>The <code>simrecint</code> function</h1>
<div id="description-2" class="section level2 unnumbered">
<h2 class="hasAnchor">
<a href="#description-2" class="anchor"></a>Description</h2>
<p>With this function previously simulated data (for example simulated by the use of <code>simrec</code> or <code>simreccomp</code>) can be cut to an interim data set. The simulated data must be in patient time (i.e. time since the patient entered the study, for an example see below), and must be in the counting process format. Furthermore, the dataset must have the variables <code>id</code>, <code>start</code>,<code>stop</code>, and <code>status</code>, like data simulated by the use of <code>simrec</code> or <code>simreccomp</code>. Then for every individual additionally a recruitment time is generated in study time (i.e. time since start of the study, for an example see below), which is uniformly distributed on <span class="math inline">\([0, t_R]\)</span>. The timing of the interim analysis <span class="math inline">\(t_I\)</span> is set in study time and data are being cut to all data, that are available at the interim analysis. If you only wish to simulate a recruitment time, <span class="math inline">\(t_I\)</span> can be set to <span class="math inline">\(t_R + fu.max\)</span> or something else beyond the end of the study.</p>
<p>Simulated data in patient time:</p>
<p><img src="tikzout_1.png" width="600" style="display: block; margin: auto;"></p>
<p>Simulated data in study time with time of interim analysis (<span class="math inline">\(t_I\)</span>), end of recruitment period (<span class="math inline">\(t_R\)</span>) and end of study</p>
<p><img src="tikzout_2.png" width="600" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/simrecint.html">simrecint</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">N</span>, <span class="va">tR</span>, <span class="va">tI</span><span class="op">)</span></code></pre></div>
</div>
<div id="parameters-2" class="section level2 unnumbered">
<h2 class="hasAnchor">
<a href="#parameters-2" class="anchor"></a>Parameters</h2>
<ul>
<li>
<code>data</code> Previously generated data (in patient time), that shall be cut to interim data</li>
<li>
<code>N</code> Number of individuals, for which <code>data</code> was generated</li>
<li>
<code>tR</code> Length of the recruitment period (in study time)</li>
<li>
<code>tI</code> Timing of the interim analysis (in study time)</li>
</ul>
</div>
<div id="output-2" class="section level2 unnumbered">
<h2 class="hasAnchor">
<a href="#output-2" class="anchor"></a>Output</h2>
<p>The output is a <code>data.frame</code> consisting of the columns, that were put into, and additionally the following columns:</p>
<ul>
<li>
<code>rectime</code> The recruitment time for each individual (in study time).</li>
<li>
<code>interimtime</code> The time of the interim analysis <code>tI</code> (in study time).</li>
<li>
<code>stop_study</code> The stopping time for each event in study time.</li>
</ul>
<p>Individuals that are not already recruited at the interim analysis are left out here.</p>
</div>
<div id="example-2" class="section level2 unnumbered">
<h2 class="hasAnchor">
<a href="#example-2" class="anchor"></a>Example</h2>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">### Example - see example for simrec</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/federicomarini/simrec">simrec</a></span><span class="op">)</span>
<span class="va">N</span>         <span class="op">&lt;-</span> <span class="fl">10</span>
<span class="va">dist.x</span>    <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"binomial"</span>, <span class="st">"normal"</span><span class="op">)</span>
<span class="va">par.x</span>     <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="va">beta.x</span>    <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.3</span>, <span class="fl">0.2</span><span class="op">)</span>
<span class="va">dist.z</span>    <span class="op">&lt;-</span> <span class="st">"gamma"</span>
<span class="va">par.z</span>     <span class="op">&lt;-</span> <span class="fl">0.25</span>
<span class="va">dist.rec</span>  <span class="op">&lt;-</span> <span class="st">"weibull"</span>
<span class="va">par.rec</span>   <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span>
<span class="va">fu.min</span>    <span class="op">&lt;-</span> <span class="fl">2</span>
<span class="va">fu.max</span>    <span class="op">&lt;-</span> <span class="fl">2</span>
<span class="va">cens.prob</span> <span class="op">&lt;-</span> <span class="fl">0.2</span>

<span class="va">simdata</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simrec.html">simrec</a></span><span class="op">(</span><span class="va">N</span>, <span class="va">fu.min</span>, <span class="va">fu.max</span>, <span class="va">cens.prob</span>, <span class="va">dist.x</span>, <span class="va">par.x</span>, <span class="va">beta.x</span>, <span class="va">dist.z</span>,
                  <span class="va">par.z</span>, <span class="va">dist.rec</span>, <span class="va">par.rec</span><span class="op">)</span>

<span class="co">### Now simulate for each patient a recruitment time in [0,tR=2]</span>
<span class="co">### and cut data to the time of the interim analysis at tI=1:</span>

<span class="va">simdataint</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simrecint.html">simrecint</a></span><span class="op">(</span><span class="va">simdata</span>, N <span class="op">=</span> <span class="va">N</span>, tR <span class="op">=</span> <span class="fl">2</span>, tI <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">simdataint</span><span class="op">)</span>  <span class="co"># only run for small N!</span>
<span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html">datatable</a></span><span class="op">(</span><span class="va">simdataint</span><span class="op">)</span></code></pre></div>
<pre><code>##    id x.V1        x.V2         z     start       stop status         fu   rectime
## 7   3    0 -0.77728756 0.3577544 0.0000000 0.82038470      0 1.03323818 0.1796153
## 11  5    1  0.05178914 0.5020507 0.0000000 0.06419276      0 2.00000000 0.9358072
## 20  7    0  1.46065438 1.5230469 0.0000000 0.14279492      0 2.00000000 0.8572051
## 28  8    1  2.17718559 0.3292516 0.0000000 0.72197715      0 2.00000000 0.2780228
## 33  9    1 -1.03571517 0.5622777 0.0000000 0.03561183      0 0.03561183 0.6023674
## 35 10    1  0.16378646 1.4797465 0.0000000 0.35799183      1 2.00000000 0.1319626
## 36 10    1  0.16378646 1.4797465 0.3579918 0.66636947      1 2.00000000 0.1319626
## 37 10    1  0.16378646 1.4797465 0.6663695 0.86803739      0 2.00000000 0.1319626
##    interimtime stop_study
## 7            1  1.2128535
## 11           1  1.3987966
## 20           1  1.7198071
## 28           1  1.3205744
## 33           1  0.6379793
## 35           1  0.4899544
## 36           1  0.7983321
## 37           1  1.2205518</code></pre>
<div id="htmlwidget-a1cb3a8a69e279ef8edb" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-a1cb3a8a69e279ef8edb">{"x":{"filter":"none","data":[["7","11","20","28","33","35","36","37"],[3,5,7,8,9,10,10,10],[0,1,0,1,1,1,1,1],[-0.777287556048147,0.0517891437369379,1.46065438315023,2.17718558577355,-1.03571516507223,0.163786462182264,0.163786462182264,0.163786462182264],[0.357754350266942,0.502050668041178,1.52304688812354,0.329251569253118,0.562277689450179,1.47974652212884,1.47974652212884,1.47974652212884],[0,0,0,0,0,0,0.357991825777385,0.666369474374458],[0.820384704042226,0.0641927625983953,0.142794915474951,0.721977150533348,0.0356118250638247,0.357991825777385,0.666369474374458,0.868037385866046],[0,0,0,0,0,1,1,0],[1.03323817998171,2,2,2,0.0356118250638247,2,2,2],[0.179615295957774,0.935807237401605,0.857205084525049,0.278022849466652,0.602367436047643,0.131962614133954,0.131962614133954,0.131962614133954],[1,1,1,1,1,1,1,1],[1.21285347593948,1.39879659240684,1.71980709378615,1.32057441418754,0.637979261111468,0.489954439911339,0.798332088508412,1.22055182327753]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>id<\/th>\n      <th>x.V1<\/th>\n      <th>x.V2<\/th>\n      <th>z<\/th>\n      <th>start<\/th>\n      <th>stop<\/th>\n      <th>status<\/th>\n      <th>fu<\/th>\n      <th>rectime<\/th>\n      <th>interimtime<\/th>\n      <th>stop_study<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,8,9,10,11]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="plotting-the-data" class="section level1">
<h1 class="hasAnchor">
<a href="#plotting-the-data" class="anchor"></a>Plotting the Data</h1>
<div id="description-3" class="section level2 unnumbered">
<h2 class="hasAnchor">
<a href="#description-3" class="anchor"></a>Description</h2>
<p>The functions <code>simrecPlot</code> and <code>simreccompPlot</code> allow plotting of recurrent event data, possibly with a competing event.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/simrecPlot.html">simrecPlot</a></span><span class="op">(</span><span class="va">simdata</span>, id <span class="op">=</span> <span class="st">"id"</span>, start <span class="op">=</span> <span class="st">"start"</span>, stop <span class="op">=</span> <span class="st">"stop"</span>, status <span class="op">=</span> <span class="st">"status"</span><span class="op">)</span>
<span class="fu"><a href="../reference/simreccompPlot.html">simreccompPlot</a></span><span class="op">(</span><span class="va">simdata</span>, id <span class="op">=</span> <span class="st">"id"</span>, start <span class="op">=</span> <span class="st">"start"</span>, stop <span class="op">=</span> <span class="st">"stop"</span>, status <span class="op">=</span> <span class="st">"status"</span><span class="op">)</span></code></pre></div>
</div>
<div id="parameters-3" class="section level2 unnumbered">
<h2 class="hasAnchor">
<a href="#parameters-3" class="anchor"></a>Parameters</h2>
<ul>
<li>
<code>data</code> A data set of recurrent event data to be plotted. <br> The input-data must include columns corresponding to:
<ul>
<li>
<code>id</code> - patient-ID</li>
<li>
<code>start</code> - beginning of an interval where the patient is at risk for an event</li>
<li>
<code>stop</code> -end of the interval due to an event or censoring</li>
<li>
<code>status</code> - an indicator of the patient status at <code>stop</code> with = 0 censoring, 1 = event for <code>simrecPlot</code> and additionally 2 = competing event for <code>simreccompPlot</code>
</li>
</ul>
</li>
<li>
<code>id</code> the name of the id column, default is <code>"id"</code>
</li>
<li>
<code>start</code> the name of the start column, default is <code>"start"</code>
</li>
<li>
<code>stop</code> the name of the stop column, default is <code>"stop"</code>
</li>
<li>
<code>status</code> the name of the status column, default is <code>"status"</code>
</li>
</ul>
</div>
<div id="output-3" class="section level2 unnumbered">
<h2 class="hasAnchor">
<a href="#output-3" class="anchor"></a>Output</h2>
<p>The output is a plot of the data with a bullet (<span class="math inline">\(\bullet\)</span>) indicating a recurrent event, a circle (<span class="math inline">\(\circ\)</span>) indicating censoring and <span class="math inline">\(\times\)</span> indicating the competing event.</p>
</div>
<div id="example-3" class="section level2 unnumbered">
<h2 class="hasAnchor">
<a href="#example-3" class="anchor"></a>Example</h2>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/simrecPlot.html">simrecPlot</a></span><span class="op">(</span><span class="va">simdata</span><span class="op">)</span></code></pre></div>
<p><img src="simrec-vignette_files/figure-html/ExamplePlot-1.png" width="576" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/simreccompPlot.html">simreccompPlot</a></span><span class="op">(</span><span class="va">simdata1</span><span class="op">)</span></code></pre></div>
<p><img src="simrec-vignette_files/figure-html/ExamplePlot-2.png" width="576" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="references" class="section level1 unnumbered">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
<div id="refs" class="references">
<div id="ref-Andersen1982">
<p>Andersen, P. K., and R. D. Gill. 1982. “Cox’s Regression Model for Counting Processes: A Large Sample Study.” <em>Ann. Statist.</em> 10 (4): 1100–1120. <a href="https://doi.org/10.1214/aos/1176345976">https://doi.org/10.1214/aos/1176345976</a>.</p>
</div>
<div id="ref-Bender2005">
<p>Bender, Ralf, Thomas Augustin, and Maria Blettner. 2005. “Generating Survival Times to Simulate Cox Proportional Hazards Models.” <em>Statistics in Medicine</em> 24 (11): 1713–23. <a href="https://doi.org/10.1002/sim.2059">https://doi.org/10.1002/sim.2059</a>.</p>
</div>
<div id="ref-Jahn-Eimermacher2015">
<p>Jahn-Eimermacher, Antje, Katharina Ingel, Ann-Kathrin Ozga, Stella Preussler, and Harald Binder. 2015. “Simulating Recurrent Event Data with Hazard Functions Defined on a Total Time Scale.” <em>BMC Medical Research Methodology</em> 15 (1): 16. <a href="https://doi.org/10.1186/s12874-015-0005-2">https://doi.org/10.1186/s12874-015-0005-2</a>.</p>
</div>
</div>
</div>
<div class="footnotes">
<hr>
<ol>
<li id="fn1"><p><a href="mailto:ingel@uni-mainz.de" class="email">ingel@uni-mainz.de</a>; currently at BIOTRONIK SE &amp; Co. KG<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>currently at Institute of Medical Biometry and Informatics (IMBI, Heidelberg)<a href="#fnref2" class="footnote-back">↩︎</a></p></li>
<li id="fn3"><p><a href="mailto:marinif@uni-mainz.de" class="email">marinif@uni-mainz.de</a><a href="#fnref3" class="footnote-back">↩︎</a></p></li>
<li id="fn4"><p>currently at University of Applied Sciences Darmstadt, <a href="mailto:antje.jahn@h-da.de" class="email">antje.jahn@h-da.de</a><a href="#fnref4" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Katharina Ingel, Antje Jahn-Eimermacher, Stella Preussler, <a href="https://federicomarini.github.io">Federico Marini</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
